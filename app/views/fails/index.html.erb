<div class="row">
  
  <p id="notice"><%= notice %></p>
  
  <div class="col-md-3">
  </div>
  
  <div class="col-md-6">
    
    <h1>Listing Fails</h1><br />

<% @fails.each do |fail| %>
<div class="col-md-12">
  <h3>
    <span class="content"><%= link_to fail.name, fail %></span>
  </h3>
  <span class="timestamp">
    Shared <%= time_ago_in_words(fail.created_at) %> ago by <%= link_to fail.user.name, fail.user %><br>
    Tags: <%= raw fail.tags.map(&:name).map { |t| link_to t, tag_path(t) }.join(', ') %>
    <br />
  </span>
  <br />
</div>
<% end %>

<!--

<table>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Lesson</th>
    <th>User</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @fails.each do |fail| %>
  <tr>
    <td><%= fail.name %></td>
    <td><%= fail.description %></td>
    <td><%= fail.lesson %></td>
    <td><%= fail.user.name %></td>
    <td><%= link_to 'Show', fail %></td>
    <% if current_user == fail.user %>
      <td><%= link_to 'Edit', edit_fail_path(fail) %></td>
      <td><%= link_to 'Destroy', fail, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    <% end %>
  </tr>
<% end %>
</table> -->

<%= will_paginate @fails %>

<br />

<%= link_to 'New Fail', new_fail_path %>
    
  </div>
  
  <div class="col-md-3">
    <h3>Popular Tags</h3>
    
    <div id="tag_cloud">
      <% tag_cloud Fail.tag_counts, %w{s m l} do |tag, css_class| %>
        <%= link_to tag.name, tag_path(tag.name), class: css_class %>
      <% end %>
    </div>
    
  </div>  

</div>
